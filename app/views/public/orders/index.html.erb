<!--並び順を新しい順にする-->
<div class="container">
  <table class="table table-hover">
    <thead>
      <tr class="table-secondary">
        <th>注文日</th>
        <th>配送先</th>
        <th>注文商品</th>
        <th>支払金額</th>
        <th>ステータス</th>
        <th>注文詳細</th>
      </tr>
    </thead>
    <tbody>
      <% @orders.each do |order| %>
      <tr>
        <td>
          <%= order.created_at.strftime('%Y/%m/%d') %>
        </td>
        <td>
          <%= order.address %>
        </td>
        <td>
          <% order.order_details.each do |order_detail| %>
            <li class="list-unstyled">
              <%= link_to item_path(order_detail.item_id), class: "text-info" do %>
                <%= order_detail.item.name %>
              <% end %>
            </li>
          <% end %>
        </td>
        <td>
          ￥<%= number_with_precision(order.total_payment, precision: 0, delimiter: ',') %>
        </td>
        <td>
          <%= order.status_i18n %>
        </td>
        <td>
          <%= link_to '表示する', order_path(order.id), class: "btn btn-info" %>
        </td>
      </tr>
      <% end %>
    </tbody>
  </table>
</div>
<%= paginate @orders, theme: 'bootstrap-5' %>